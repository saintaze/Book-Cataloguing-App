!function(t){var e={};function o(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(n,s,function(e){return t[e]}.bind(null,s));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=2)}([function(t,e,o){},function(t,e){const o=document.createElement("template");o.innerHTML='\n  <td scope="row" class="book-num"></td>\n  <td class="title-cell"></td>\n  <td class="author-cell"></td>\n  <td class="pages-cell"></td>\n  <td><button type="button" class="btn btn-outline-success book-read-toggle-btn"></button></td>\n  <td><button type="button" class="btn btn-outline-danger book-delete-btn">Remove</button></td>\n';class n extends HTMLElement{constructor(){super()}connectedCallback(){this.appendChild(o.content.cloneNode(!0)),this._title=this.getAttribute("title"),this._author=this.getAttribute("author"),this._pages=this.getAttribute("pages"),this._read="true"===this.getAttribute("read"),this._index=this.getAttribute("index");const t=this.querySelector(".book-delete-btn");this.$bookReadToggleBtn=this.querySelector(".book-read-toggle-btn"),t.addEventListener("click",this._handleBookDelete.bind(this)),this.$bookReadToggleBtn.addEventListener("click",this._handleBookToggle.bind(this)),this._populateCells(),this._setReadBtnText(),this._setBookNum()}_populateCells(){const t=this.querySelector(".title-cell"),e=this.querySelector(".author-cell"),o=this.querySelector(".pages-cell");t.textContent=this._title,e.textContent=this._author,o.textContent=this._pages}_handleBookToggle(t){const e=this._createNewEvent("bookReadToggle",{index:this._index,read:!this._read});this.dispatchEvent(e)}_handleBookDelete(t){const e=this._createNewEvent("bookDelete",this._index);this.dispatchEvent(e)}_setReadBtnText(){this._read?this.$bookReadToggleBtn.textContent="Unread":this.$bookReadToggleBtn.textContent="Read"}_setBookNum(){this.querySelector(".book-num").textContent=+this._index+1}_createNewEvent(t,e){return new CustomEvent(t,{bubbles:!0,composed:!0,detail:e})}}customElements.define("app-book",n)},function(t,e,o){"use strict";o.r(e);o(0);class n{constructor(t,e,o,n=!1){this.title=t,this.author=e,this.pages=o,this.read=n}}const s=document.createElement("template");s.innerHTML="\n  <style>\n  </style>\n";class i extends HTMLElement{constructor(){super(),this.appendChild(s.content.cloneNode(!0)),this._books=this._getData(),document.querySelector(".form-book-add-btn").addEventListener("click",this._initBook.bind(this)),this.addEventListener("bookDelete",this._deleteBook.bind(this)),this.addEventListener("bookReadToggle",this._bookReadToggle.bind(this)),this._render()}_deleteBook(t){this._books.splice(t.detail,1),this._setData(this._books),this._render()}_toggleTableVisible(){0===this._books.length?document.querySelector(".table").style.opacity="0":document.querySelector(".table").style.opacity="1"}_bookReadToggle(t){const{read:e,index:o}=t.detail;this._books[o].read=e,this._render()}_createBook(t,e){const o=document.createElement("app-book");return o.setAttribute("title",t.title),o.setAttribute("author",t.author),o.setAttribute("pages",t.pages),o.setAttribute("read",t.read),o.setAttribute("index",e),o}_initBook(t){const{value:e}=document.querySelector(".title-input"),{value:o}=document.querySelector(".author-input"),{value:s}=document.querySelector(".pages-input"),{checked:i}=document.querySelector(".read-input");if(!s)return;if(+s<=0||!Number.isInteger(+s))return;const r=new n(e,o,+s,i);this._books.push(r),this._setData(this._books),$(".modal").modal("hide"),document.querySelector(".title-input").value="",document.querySelector(".author-input").value="",document.querySelector(".pages-input").value="",document.querySelector(".read-input").value="",this._render()}_render(){const t=document.querySelector("tbody");this._toggleTableVisible(),t.innerHTML="",this._books.forEach((e,o)=>{const n=this._createBook(e,o);t.appendChild(n)})}_setData(t){localStorage.setItem("books",JSON.stringify(t))}_getData(){return JSON.parse(localStorage.getItem("books"))||[]}}customElements.define("app-root",i);o(1)}]);